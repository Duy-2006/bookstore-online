<!DOCTYPE html>
<html class="light" lang="vi" xmlns:th="http://www.thymeleaf.org">
<head th:replace="head :: head"></head>

<body class="bg-white min-h-screen font-display">
<div th:replace="menu :: menu"></div>  
<form th:action="@{/checkout}"
      method="post"
      th:object="${checkoutBean}">

<!-- ================= HEADER ================= -->
<header class="sticky top-0 z-50 bg-white border-b">
  <div class="flex items-center px-4 py-4">
    <a th:href="@{/cart}" class="size-10 flex items-center justify-center">
      <span class="material-symbols-outlined text-primary">arrow_back_ios_new</span>
    </a>
    <h2 class="flex-1 text-center text-xl font-extrabold uppercase">Thanh To√°n</h2>
  </div>
</header>

<main>

<div class="flex flex-col md:flex-row">

<!-- ================= TH√îNG TIN KH√ÅCH H√ÄNG ================= -->
<section class="flex-1 border-r p-6">
<h3 class="text-xl font-bold mb-6">Th√¥ng tin kh√°ch h√†ng</h3>

<div class="space-y-4">

<!-- H·ªç t√™n -->
<div>
<input th:field="*{customerName}"
       class="w-full border h-12 px-4 rounded"
       placeholder="H·ªç v√† t√™n">
<p class="text-red-500 text-sm"
   th:errors="*{customerName}"></p>
</div>

<!-- SƒêT -->
<div>
<input th:field="*{customerPhone}"
       class="w-full border h-12 px-4 rounded"
       placeholder="S·ªë ƒëi·ªán tho·∫°i">
<p class="text-red-500 text-sm"
   th:errors="*{customerPhone}"></p>
</div>

<!-- EMAIL (üî• M·ªöI) -->
<div>
<input th:field="*{email}"
       class="w-full border h-12 px-4 rounded"
       placeholder="Email">
<p class="text-red-500 text-sm"
   th:errors="*{email}"></p>
</div>

<!-- ƒê·ªãa ch·ªâ -->
<div>
<textarea th:field="*{customerAddress}"
          class="w-full border p-4 rounded min-h-[100px]"
          placeholder="ƒê·ªãa ch·ªâ giao h√†ng"></textarea>
<p class="text-red-500 text-sm"
   th:errors="*{customerAddress}"></p>
</div>

</div>
</section>



<!-- ================= T√ìM T·∫ÆT ƒê∆†N H√ÄNG ================= -->
<section class="flex-1 bg-gray-50">
<div class="p-6">

<div class="flex justify-between mb-6">
<h3 class="text-xl font-bold">T√≥m t·∫Øt ƒë∆°n h√†ng</h3>
<span class="text-sm font-bold"
      th:text="${#lists.size(cartDetails)} + ' s·∫£n ph·∫©m'"></span>
</div>

<!-- LIST -->
<div class="divide-y">
  <div th:each="item : ${cartDetails}" class="flex gap-4 py-4">

    <img th:src="${item.imageUrl}"
         class="size-20 object-cover rounded-lg"/>

    <div class="flex-1">
      <p class="font-bold" th:text="${item.title}"></p>

      <p class="text-sm text-gray-500">
        S·ªë l∆∞·ª£ng:
        <span th:text="${item.quantity}"></span>
      </p>

      <p class="text-primary font-extrabold"
         th:text="${item.itemTotal} + 'ƒë'"></p>
    </div>

  </div>
</div>


</div>
</section>

</div>

<!-- ================= THANH TO√ÅN ================= -->
<section class="border-t bg-white">
<div class="p-6 flex flex-col lg:flex-row gap-8">

<div class="flex-1">
<h3 class="text-xl font-bold mb-4">Ph∆∞∆°ng th·ª©c thanh to√°n</h3>

<label class="flex items-center gap-3 mb-3">
<input type="radio" name="paymentMethod" value="COD" checked>
Thanh to√°n khi giao h√†ng
</label>

<label class="flex items-center gap-3">
<input type="radio" name="paymentMethod" value="BANKING">
Chuy·ªÉn kho·∫£n ng√¢n h√†ng
</label>
</div>

<!-- ================= T·ªîNG TI·ªÄN ================= -->
<div class="w-full lg:w-96 bg-gray-50 p-6 rounded-xl border">
<div class="space-y-3">

<div class="flex justify-between">
<span>T·∫°m t√≠nh</span>
<span th:text="${totalAmount} + 'ƒë'"></span>
</div>

<div class="flex justify-between">
<span>Ph√≠ v·∫≠n chuy·ªÉn</span>
<span th:text="${shippingFee} + 'ƒë'"></span>
</div>

<div class="flex justify-between text-primary">
<span>Gi·∫£m gi√°</span>
<span th:text="'-' + ${discount} + 'ƒë'"></span>
</div>

<div class="flex justify-between font-bold text-xl pt-4 border-t">
<span>T·ªïng thanh to√°n</span>
<span class="text-primary"
      th:text="${finalAmount} + 'ƒë'"></span>
</div>

</div>
</div>

</div>
</section>

</main>

<!-- ================= SUBMIT ================= -->
<div class="fixed bottom-0 left-0 right-0 bg-white border-t p-5">
<button type="submit"
class="w-full bg-primary text-white h-16 rounded-xl text-xl font-black">
X√ÅC NH·∫¨N ƒê·∫∂T H√ÄNG
</button>
</div>

</form>
<div th:replace="footer :: footer"></div>  
</body>
</html>
